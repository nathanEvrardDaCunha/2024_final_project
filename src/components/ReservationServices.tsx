import React, { useState, useEffect } from 'react';import { useParams } from 'react-router-dom';import { getToken } from '../utils/jwt';import Header from "./layout/header/Header";import Footer from "./layout/Footer";import BigCard from "./common/cards/BigCard";import CardBody from "./common/cards/CardBody";import CardTitleCentered from "./common/cards/CardTitleCentered";interface Service {	id: number;	name: string;	price: string;}const serviceIcons: { [key: string]: string } = {	CHECK_IN_CHECK_OUT: '🔑',	LUGGAGE_STORAGE: '🧳',	AIRPORT_TRANSFER: '🚗',	LOCAL_TOUR_GUIDE: '🗺️',	MEAL_DELIVERY: '🍽️',	HOUSEKEEPING: '🧹',	LAUNDRY_SERVICE: '🧺',	BIKE_RENTAL: '🚲',	CHILDCARE: '👶',	PET_SITTING: '🐾',	PROPERTY_PHOTOGRAPHY: '📸',	LISTING_OPTIMIZATION: '📊',	PRICE_MANAGEMENT: '💰',	GUEST_SCREENING: '🔍',	MAINTENANCE_COORDINATION: '🔧',	DEEP_CLEANING: '🧼',	TAX_PREPARATION: '📑',	INSURANCE_MANAGEMENT: '🛡️',	LEGAL_CONSULTATION: '⚖️',	MARKETING_BOOST: '📣'};const formatServiceName = (name: string): string => {	return name.split('_').map(word => word.charAt(0) + word.slice(1).toLowerCase()).join(' ');};const formatServicePrice = (price: string): string => {	const numericPrice = price.replace('PRICE_', '');	return `${numericPrice}€`;};const ReservationServices: React.FC = () => {	const [services, setServices] = useState<Service[]>([]);	const [isLoading, setIsLoading] = useState(true);	const [error, setError] = useState<string | null>(null);	const { reservationId } = useParams<{ reservationId: string }>();		useEffect(() => {		const fetchServices = async () => {			try {				const response = await fetch(`http://localhost:3000/location/reservations/${reservationId}/services`, {					headers: {						'Authorization': `Bearer ${getToken()}`					}				});				if (!response.ok) {					throw new Error('Failed to fetch services');				}				const data = await response.json();				setServices(data);				setIsLoading(false);			} catch (err) {				setError(err instanceof Error ? err.message : 'An unknown error occurred');				setIsLoading(false);			}		};				fetchServices();	}, [reservationId]);		const handleDeleteService = async (serviceId: number) => {		try {			const response = await fetch(`http://localhost:3000/location/services/${serviceId}`, {				method: 'DELETE',				headers: {					'Authorization': `Bearer ${getToken()}`				}			});			if (!response.ok) {				throw new Error('Failed to delete service');			}			setServices(services.filter(service => service.id !== serviceId));		} catch (err) {			setError(err instanceof Error ? err.message : 'An unknown error occurred');		}	};		if (isLoading) return (		<div className="min-h-screen flex justify-center items-center bg-gray-100">			<span className="loading loading-spinner loading-lg text-primary"></span>		</div>	);		if (error) return (		<div className="min-h-screen flex justify-center items-center bg-gray-100">			<div className="alert alert-error shadow-lg max-w-md">				<div>					<svg xmlns="http://www.w3.org/2000/svg" className="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>					<span>{error}</span>				</div>			</div>		</div>	);		return (		<div className="flex flex-col min-h-screen bg-gray-100">			<Header />			<main className="flex-grow container mx-auto px-4 py-8">				<h1 className="text-4xl font-bold text-center mb-12 text-gray-800">Reservation Services</h1>				{services.length === 0 ? (					<p className="text-center text-xl text-gray-600">No services found for this reservation.</p>				) : (					<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">						{services.map((service) => (							<BigCard key={service.id} className="shadow-xl">								<CardBody>									<div className="flex items-center mb-4">										<span className="text-4xl mr-4">{serviceIcons[service.name] || '🔧'}</span>										<CardTitleCentered text={formatServiceName(service.name)} className="text-xl" />									</div>									<div className="text-center">										<p className="text-lg font-semibold mb-4">Price: {formatServicePrice(service.price)}</p>										<button											onClick={() => handleDeleteService(service.id)}											className="btn btn-error"										>											Delete Service										</button>									</div>								</CardBody>							</BigCard>						))}					</div>				)}			</main>			<Footer />		</div>	);};export default ReservationServices;